{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport React, { useState, useEffect } from \"react\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport BackHandler from \"react-native-web/dist/exports/BackHandler\";\nimport { Fonts } from \"../../themes/fonts\";\nimport ConstantStyle from \"../../themes/styles\";\nimport { Colors } from \"../../themes/colors\";\nimport CustomHeader from \"../components/CustomHeader\";\nimport MainButton from \"../components/MainButton\";\nimport { useTranslation } from \"react-i18next\";\nimport { cos } from \"react-native-reanimated\";\nimport Loader from \"../components/Loader\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nexport var Tutela = function Tutela(_ref) {\n  var navigation = _ref.navigation;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t,\n    i18n = _useTranslation.i18n;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    listData = _useState2[0],\n    setListData = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loader = _useState4[0],\n    setLoader = _useState4[1];\n  useEffect(function () {\n    Data();\n  }, []);\n  {\n  }\n  var Data = function Data() {\n    setLoader(true);\n    fetch(\"https://api.tu-store.soluzionitop.cloud/api/offers?sale_channel_id=3\", {\n      method: \"GET\",\n      headers: {\n        Authorization: \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InAubWFyYXNjYTg5QGdtYWlsLmNvbSIsImlkIjo4LCJpYXQiOjE2NzA0MjQ1OTcsImV4cCI6MTY3MzEwMjk5N30.yLzIp0UIApgRh-MJ_9NYR94Gkb7CLiA0dG0FWGppeJQ\"\n      }\n    }).then(function (res) {\n      setLoader(false);\n      return res.json();\n    }).then(function (value) {\n      setListData(value.items);\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n  return _jsxs(SafeAreaView, {\n    style: _objectSpread({}, ConstantStyle.container),\n    children: [_jsx(CustomHeader, {\n      navigation: navigation,\n      title: t(\"Tutela\")\n      ,\n      isSearch: true\n    }), _jsx(View, {\n      style: {\n        backgroundColor: Colors.white,\n        borderTopLeftRadius: 30,\n        borderTopRightRadius: 30,\n        flex: 1\n      },\n      children: _jsx(View, {\n        style: {\n          marginTop: 15\n        },\n        children: loader === false ? _jsx(_Fragment, {\n          children: _jsx(ScrollView, {\n            showsVerticalScrollIndicator: true,\n            children: _jsx(View, {\n              style: {\n                backgroundColor: Colors.white,\n                borderRadius: 10,\n                marginHorizontal: 15\n              },\n              children: _jsx(View, {\n                children: listData.map(function (element, index) {\n                  return _jsx(_Fragment, {\n                    children: _jsxs(TouchableOpacity, {\n                      activeOpacity: 0.8,\n                      onPress: function onPress() {\n                        return navigation.navigate(\"Details\", {\n                          item: element\n                        });\n                      },\n                      style: {\n                        justifyContent: \"space-between\",\n                        alignItems: \"center\",\n                        flexDirection: \"row\",\n                        marginHorizontal: 15,\n                        marginVertical: 12\n                      },\n                      children: [_jsx(View, {\n                        style: {\n                          alignItems: \"center\"\n                        },\n                        children: _jsx(Image, {\n                          source: {\n                            uri: element.partners.image\n                          },\n                          style: {\n                            width: 80,\n                            height: 45,\n                            marginRight: 15\n                          }\n                        })\n                      }), _jsx(View, {\n                        style: {\n                          flex: 1\n                        },\n                        children: _jsxs(View, {\n                          style: {\n                            alignItems: \"center\",\n                            justifyContent: \"space-between\",\n                            flexDirection: \"row\"\n                          },\n                          children: [_jsx(Text, {\n                            style: _objectSpread(_objectSpread({}, Fonts.Black16Medium), {}, {\n                              textAlign: \"left\"\n                            }),\n                            children: element.name\n                          }), _jsxs(View, {\n                            children: [_jsx(Text, {\n                              style: _objectSpread(_objectSpread({}, Fonts.Black16Regular), {}, {\n                                textAlign: \"right\"\n                              })\n                            }), _jsx(Text, {\n                              style: _objectSpread(_objectSpread({}, Fonts.Green14Medium), {}, {\n                                textAlign: \"right\"\n                              }),\n                              children: element.value !== \"0\" ? element.value + \"€\" : \"0€\"\n                            }), _jsx(Text, {\n                              style: _objectSpread(_objectSpread({}, Fonts.Red14Medium), {}, {\n                                textAlign: \"right\"\n                              }),\n                              children: element.appCashback.map(function (el) {\n                                return \" cash \" + el.cashback + \"€\";\n                              })\n                            })]\n                          })]\n                        })\n                      })]\n                    }, index)\n                  });\n                })\n              })\n            })\n          })\n        }) : _jsx(_Fragment, {\n          children: _jsx(Loader, {\n            visible: true\n          })\n        })\n      })\n    })]\n  });\n};","map":{"version":3,"names":["React","useState","useEffect","Fonts","ConstantStyle","Colors","CustomHeader","MainButton","useTranslation","cos","Loader","Tutela","navigation","t","i18n","listData","setListData","loader","setLoader","Data","fetch","method","headers","Authorization","then","res","json","value","items","catch","err","console","log","container","backgroundColor","white","borderTopLeftRadius","borderTopRightRadius","flex","marginTop","borderRadius","marginHorizontal","map","element","index","navigate","item","justifyContent","alignItems","flexDirection","marginVertical","uri","partners","image","width","height","marginRight","Black16Medium","textAlign","name","Black16Regular","Green14Medium","Red14Medium","appCashback","el","cashback"],"sources":["/Users/p.marasca/Desktop/Tu-Store/src/screens/bitcoin/Tutela.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  SafeAreaView,\n  Text,\n  View,\n  FlatList,\n  TouchableOpacity,\n  Image,\n  ScrollView,\n  BackHandler,\n} from \"react-native\";\nimport { Fonts } from \"../../themes/fonts\";\nimport ConstantStyle from \"../../themes/styles\";\nimport { Colors } from \"../../themes/colors\";\nimport CustomHeader from \"../components/CustomHeader\";\nimport MainButton from \"../components/MainButton\";\nimport { useTranslation } from \"react-i18next\";\nimport { cos } from \"react-native-reanimated\";\nimport Loader from \"../components/Loader\";\n\nexport const Tutela = ({ navigation }) => {\n  const { t, i18n } = useTranslation();\n  const [listData, setListData] = useState([]); // salvo i dati del fetch\n  const [loader, setLoader] = useState(false)\n  useEffect(() => {\n    Data();\n  }, []);\n\n  {\n    /** fetch data GET Tutela */\n  }\n  const Data = () => {\n    setLoader(true)\n    fetch(\"https://api.tu-store.soluzionitop.cloud/api/offers?sale_channel_id=3\", {\n      method: \"GET\",\n      headers: {\n        Authorization:\n          \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InAubWFyYXNjYTg5QGdtYWlsLmNvbSIsImlkIjo4LCJpYXQiOjE2NzA0MjQ1OTcsImV4cCI6MTY3MzEwMjk5N30.yLzIp0UIApgRh-MJ_9NYR94Gkb7CLiA0dG0FWGppeJQ\",\n      },\n    })\n      .then((res) => {\n        setLoader(false)\n        return res.json();\n      })\n      .then((value) => {\n        //console.log(value)\n        setListData(value.items); // salvo nel array i dati del fetch\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n\n  return (\n    <SafeAreaView style={{ ...ConstantStyle.container }}>\n      <CustomHeader\n        navigation={navigation}\n        title={t(\"Tutela\")}\n        //isMain={true}\n        isSearch={true}\n      />\n      <View\n        style={{\n          backgroundColor: Colors.white,\n          borderTopLeftRadius: 30,\n          borderTopRightRadius: 30,\n          flex: 1,\n        }}\n      >\n        <View style={{ marginTop: 15 }}>\n\n          {\n            loader === false ? (<>\n                    <ScrollView showsVerticalScrollIndicator={true}>\n            {/*** fetch data */}\n            <View\n              style={{\n                backgroundColor: Colors.white,\n                borderRadius: 10,\n                //marginTop: 10,\n                marginHorizontal: 15,\n                //marginBottom: 25,\n                //paddingTop: 15,\n                // ...ConstantStyle.shadow,\n              }}\n            >\n              <View>\n                {listData.map((element, index) => (\n                  <>\n                    <TouchableOpacity\n                    key={index}\n                      activeOpacity={0.8}\n                      onPress={() =>\n                        navigation.navigate(\"Details\", {\n                          item: element,\n                        })\n                      }\n                      style={{\n                        justifyContent: \"space-between\",\n                        alignItems: \"center\",\n                        flexDirection: \"row\",\n                        marginHorizontal: 15,\n                        marginVertical: 12,\n                      }}\n                    >\n                      <View style={{ alignItems: \"center\" }}>\n                        <Image\n                          source={{ uri: element.partners.image }}\n                          style={{ width: 80, height: 45, marginRight: 15 }}\n                        />\n                      </View>\n                      <View style={{ flex: 1 }}>\n                        <View\n                          style={{\n                            alignItems: \"center\",\n                            justifyContent: \"space-between\",\n                            flexDirection: \"row\",\n                          }}\n                        >\n                          <Text\n                            style={{\n                              ...Fonts.Black16Medium,\n                              textAlign: \"left\",\n                            }}\n                          >\n                            {element.name}\n                          </Text>\n                          <View>\n                            <Text\n                              style={{\n                                ...Fonts.Black16Regular,\n                                textAlign: \"right\",\n                              }}\n                            ></Text>\n\n                            <Text\n                              style={{\n                                ...Fonts.Green14Medium,\n                                textAlign: \"right\",\n                              }}\n                            >\n                              {element.value !== \"0\"\n                                ? element.value + \"€\"\n                                : \"0€\"}\n                            </Text>\n\n                            <Text\n                              style={{\n                                ...Fonts.Red14Medium,\n                                textAlign: \"right\",\n                              }}\n                            >\n                              {element.appCashback.map((el) => \" cash \" + el.cashback + \"€\")}\n                            </Text>\n                          </View>\n                        </View>\n                      </View>\n                    </TouchableOpacity>\n                  </>\n                ))}\n              </View>\n            </View>\n          </ScrollView>\n            </>) : (<>\n            <Loader visible= {true} /> \n            </>)\n          }\n  \n        </View>\n      </View>\n      {/* <ExitModel\n        onCancel={() => setExitModel(!exitModel)}\n        title={t(\"exit_Text\")}\n        cancel={t(\"cancel\")}\n        btnName={t(\"exit\")}\n        btnOnPress={() => BackHandler.exitApp()}\n        visible={exitModel}\n      /> */}\n    </SafeAreaView>\n  );\n};\n"],"mappings":";;;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWnD,SAASC,KAAK;AACd,OAAOC,aAAa;AACpB,SAASC,MAAM;AACf,OAAOC,YAAY;AACnB,OAAOC,UAAU;AACjB,SAASC,cAAc,QAAQ,eAAe;AAC9C,SAASC,GAAG,QAAQ,yBAAyB;AAC7C,OAAOC,MAAM;AAA6B;AAAA;AAAA;AAE1C,OAAO,IAAMC,MAAM,GAAG,SAATA,MAAM,OAAuB;EAAA,IAAjBC,UAAU,QAAVA,UAAU;EACjC,sBAAoBJ,cAAc,EAAE;IAA5BK,CAAC,mBAADA,CAAC;IAAEC,IAAI,mBAAJA,IAAI;EACf,gBAAgCb,QAAQ,CAAC,EAAE,CAAC;IAAA;IAArCc,QAAQ;IAAEC,WAAW;EAC5B,iBAA4Bf,QAAQ,CAAC,KAAK,CAAC;IAAA;IAApCgB,MAAM;IAAEC,SAAS;EACxBhB,SAAS,CAAC,YAAM;IACdiB,IAAI,EAAE;EACR,CAAC,EAAE,EAAE,CAAC;EAEN;EAEA;EACA,IAAMA,IAAI,GAAG,SAAPA,IAAI,GAAS;IACjBD,SAAS,CAAC,IAAI,CAAC;IACfE,KAAK,CAAC,sEAAsE,EAAE;MAC5EC,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACPC,aAAa,EACX;MACJ;IACF,CAAC,CAAC,CACCC,IAAI,CAAC,UAACC,GAAG,EAAK;MACbP,SAAS,CAAC,KAAK,CAAC;MAChB,OAAOO,GAAG,CAACC,IAAI,EAAE;IACnB,CAAC,CAAC,CACDF,IAAI,CAAC,UAACG,KAAK,EAAK;MAEfX,WAAW,CAACW,KAAK,CAACC,KAAK,CAAC;IAC1B,CAAC,CAAC,CACDC,KAAK,CAAC,UAACC,GAAG,EAAK;MACdC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAClB,CAAC,CAAC;EACN,CAAC;EAGD,OACE,MAAC,YAAY;IAAC,KAAK,oBAAO1B,aAAa,CAAC6B,SAAS,CAAG;IAAA,WAClD,KAAC,YAAY;MACX,UAAU,EAAErB,UAAW;MACvB,KAAK,EAAEC,CAAC,CAAC,QAAQ;MAAE;MAEnB,QAAQ,EAAE;IAAK,EACf,EACF,KAAC,IAAI;MACH,KAAK,EAAE;QACLqB,eAAe,EAAE7B,MAAM,CAAC8B,KAAK;QAC7BC,mBAAmB,EAAE,EAAE;QACvBC,oBAAoB,EAAE,EAAE;QACxBC,IAAI,EAAE;MACR,CAAE;MAAA,UAEF,KAAC,IAAI;QAAC,KAAK,EAAE;UAAEC,SAAS,EAAE;QAAG,CAAE;QAAA,UAG3BtB,MAAM,KAAK,KAAK,GAAI;UAAA,UACZ,KAAC,UAAU;YAAC,4BAA4B,EAAE,IAAK;YAAA,UAEvD,KAAC,IAAI;cACH,KAAK,EAAE;gBACLiB,eAAe,EAAE7B,MAAM,CAAC8B,KAAK;gBAC7BK,YAAY,EAAE,EAAE;gBAEhBC,gBAAgB,EAAE;cAIpB,CAAE;cAAA,UAEF,KAAC,IAAI;gBAAA,UACF1B,QAAQ,CAAC2B,GAAG,CAAC,UAACC,OAAO,EAAEC,KAAK;kBAAA,OAC3B;oBAAA,UACE,MAAC,gBAAgB;sBAEf,aAAa,EAAE,GAAI;sBACnB,OAAO,EAAE;wBAAA,OACPhC,UAAU,CAACiC,QAAQ,CAAC,SAAS,EAAE;0BAC7BC,IAAI,EAAEH;wBACR,CAAC,CAAC;sBAAA,CACH;sBACD,KAAK,EAAE;wBACLI,cAAc,EAAE,eAAe;wBAC/BC,UAAU,EAAE,QAAQ;wBACpBC,aAAa,EAAE,KAAK;wBACpBR,gBAAgB,EAAE,EAAE;wBACpBS,cAAc,EAAE;sBAClB,CAAE;sBAAA,WAEF,KAAC,IAAI;wBAAC,KAAK,EAAE;0BAAEF,UAAU,EAAE;wBAAS,CAAE;wBAAA,UACpC,KAAC,KAAK;0BACJ,MAAM,EAAE;4BAAEG,GAAG,EAAER,OAAO,CAACS,QAAQ,CAACC;0BAAM,CAAE;0BACxC,KAAK,EAAE;4BAAEC,KAAK,EAAE,EAAE;4BAAEC,MAAM,EAAE,EAAE;4BAAEC,WAAW,EAAE;0BAAG;wBAAE;sBAClD,EACG,EACP,KAAC,IAAI;wBAAC,KAAK,EAAE;0BAAElB,IAAI,EAAE;wBAAE,CAAE;wBAAA,UACvB,MAAC,IAAI;0BACH,KAAK,EAAE;4BACLU,UAAU,EAAE,QAAQ;4BACpBD,cAAc,EAAE,eAAe;4BAC/BE,aAAa,EAAE;0BACjB,CAAE;0BAAA,WAEF,KAAC,IAAI;4BACH,KAAK,kCACA9C,KAAK,CAACsD,aAAa;8BACtBC,SAAS,EAAE;4BAAM,EACjB;4BAAA,UAEDf,OAAO,CAACgB;0BAAI,EACR,EACP,MAAC,IAAI;4BAAA,WACH,KAAC,IAAI;8BACH,KAAK,kCACAxD,KAAK,CAACyD,cAAc;gCACvBF,SAAS,EAAE;8BAAO;4BAClB,EACI,EAER,KAAC,IAAI;8BACH,KAAK,kCACAvD,KAAK,CAAC0D,aAAa;gCACtBH,SAAS,EAAE;8BAAO,EAClB;8BAAA,UAEDf,OAAO,CAAChB,KAAK,KAAK,GAAG,GAClBgB,OAAO,CAAChB,KAAK,GAAG,GAAG,GACnB;4BAAI,EACH,EAEP,KAAC,IAAI;8BACH,KAAK,kCACAxB,KAAK,CAAC2D,WAAW;gCACpBJ,SAAS,EAAE;8BAAO,EAClB;8BAAA,UAEDf,OAAO,CAACoB,WAAW,CAACrB,GAAG,CAAC,UAACsB,EAAE;gCAAA,OAAK,QAAQ,GAAGA,EAAE,CAACC,QAAQ,GAAG,GAAG;8BAAA;4BAAC,EACzD;0BAAA,EACF;wBAAA;sBACF,EACF;oBAAA,GAlEJrB,KAAK;kBAmES,EAClB;gBAAA,CACJ;cAAC;YACG;UACF;QACI,EACR,GAAK;UAAA,UACR,KAAC,MAAM;YAAC,OAAO,EAAG;UAAK;QAAG;MACtB;IAGD,EACF;EAAA,EASM;AAEnB,CAAC"},"metadata":{},"sourceType":"module"}