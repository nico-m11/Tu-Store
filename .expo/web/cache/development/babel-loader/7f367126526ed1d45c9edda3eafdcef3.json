{"ast":null,"code":"import _createClass from \"@babel/runtime/helpers/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport valid from \"card-validator\";\nimport pick from \"lodash.pick\";\nimport values from \"lodash.values\";\nimport every from \"lodash.every\";\nvar toStatus = function toStatus(validation) {\n  return validation.isValid ? \"valid\" : validation.isPotentiallyValid ? \"incomplete\" : \"invalid\";\n};\nvar FALLBACK_CARD = {\n  gaps: [4, 8, 12],\n  lengths: [16],\n  code: {\n    size: 3\n  }\n};\nvar CCFieldValidator = _createClass(function CCFieldValidator(displayedFields, validatePostalCode) {\n  var _this = this;\n  _classCallCheck(this, CCFieldValidator);\n  this.validateValues = function (formValues) {\n    var numberValidation = valid.number(formValues.number);\n    var expiryValidation = valid.expirationDate(formValues.expiry);\n    var maxCVCLength = (numberValidation.card || FALLBACK_CARD).code.size;\n    var cvcValidation = valid.cvv(formValues.cvc, maxCVCLength);\n    var validationStatuses = pick({\n      number: toStatus(numberValidation),\n      expiry: toStatus(expiryValidation),\n      cvc: toStatus(cvcValidation),\n      name: !!formValues.name ? \"valid\" : \"incomplete\",\n      postalCode: _this._validatePostalCode(formValues.postalCode)\n    }, _this._displayedFields);\n    return {\n      valid: every(values(validationStatuses), function (status) {\n        return status === \"valid\";\n      }),\n      status: validationStatuses\n    };\n  };\n  this._displayedFields = displayedFields;\n  this._validatePostalCode = validatePostalCode;\n});\nexport { CCFieldValidator as default };","map":{"version":3,"names":["valid","pick","values","every","toStatus","validation","isValid","isPotentiallyValid","FALLBACK_CARD","gaps","lengths","code","size","CCFieldValidator","displayedFields","validatePostalCode","validateValues","formValues","numberValidation","number","expiryValidation","expirationDate","expiry","maxCVCLength","card","cvcValidation","cvv","cvc","validationStatuses","name","postalCode","_validatePostalCode","_displayedFields","status"],"sources":["/Users/p.marasca/Desktop/Tu-Store/node_modules/react-native-credit-card-input/src/CCFieldValidator.js"],"sourcesContent":["import valid from \"card-validator\";\nimport pick from \"lodash.pick\";\nimport values from \"lodash.values\";\nimport every from \"lodash.every\";\n\nconst toStatus = validation => {\n  return validation.isValid ? \"valid\" :\n         validation.isPotentiallyValid ? \"incomplete\" :\n         \"invalid\";\n};\n\nconst FALLBACK_CARD = { gaps: [4, 8, 12], lengths: [16], code: { size: 3 } };\nexport default class CCFieldValidator {\n  constructor(displayedFields, validatePostalCode) {\n    this._displayedFields = displayedFields;\n    this._validatePostalCode = validatePostalCode;\n  }\n\n  validateValues = (formValues) => {\n    const numberValidation = valid.number(formValues.number);\n    const expiryValidation = valid.expirationDate(formValues.expiry);\n    const maxCVCLength = (numberValidation.card || FALLBACK_CARD).code.size;\n    const cvcValidation = valid.cvv(formValues.cvc, maxCVCLength);\n\n    const validationStatuses = pick({\n      number: toStatus(numberValidation),\n      expiry: toStatus(expiryValidation),\n      cvc: toStatus(cvcValidation),\n      name: !!formValues.name ? \"valid\" : \"incomplete\",\n      postalCode: this._validatePostalCode(formValues.postalCode),\n    }, this._displayedFields);\n\n    return {\n      valid: every(values(validationStatuses), status => status === \"valid\"),\n      status: validationStatuses,\n    };\n  };\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,gBAAgB;AAClC,OAAOC,IAAI,MAAM,aAAa;AAC9B,OAAOC,MAAM,MAAM,eAAe;AAClC,OAAOC,KAAK,MAAM,cAAc;AAEhC,IAAMC,QAAQ,GAAG,SAAXA,QAAQ,CAAGC,UAAU,EAAI;EAC7B,OAAOA,UAAU,CAACC,OAAO,GAAG,OAAO,GAC5BD,UAAU,CAACE,kBAAkB,GAAG,YAAY,GAC5C,SAAS;AAClB,CAAC;AAED,IAAMC,aAAa,GAAG;EAAEC,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC;EAAEC,OAAO,EAAE,CAAC,EAAE,CAAC;EAAEC,IAAI,EAAE;IAAEC,IAAI,EAAE;EAAE;AAAE,CAAC;AAAC,IACxDC,gBAAgB,gBACnC,0BAAYC,eAAe,EAAEC,kBAAkB,EAAE;EAAA;EAAA;EAAA,KAKjDC,cAAc,GAAG,UAACC,UAAU,EAAK;IAC/B,IAAMC,gBAAgB,GAAGlB,KAAK,CAACmB,MAAM,CAACF,UAAU,CAACE,MAAM,CAAC;IACxD,IAAMC,gBAAgB,GAAGpB,KAAK,CAACqB,cAAc,CAACJ,UAAU,CAACK,MAAM,CAAC;IAChE,IAAMC,YAAY,GAAG,CAACL,gBAAgB,CAACM,IAAI,IAAIhB,aAAa,EAAEG,IAAI,CAACC,IAAI;IACvE,IAAMa,aAAa,GAAGzB,KAAK,CAAC0B,GAAG,CAACT,UAAU,CAACU,GAAG,EAAEJ,YAAY,CAAC;IAE7D,IAAMK,kBAAkB,GAAG3B,IAAI,CAAC;MAC9BkB,MAAM,EAAEf,QAAQ,CAACc,gBAAgB,CAAC;MAClCI,MAAM,EAAElB,QAAQ,CAACgB,gBAAgB,CAAC;MAClCO,GAAG,EAAEvB,QAAQ,CAACqB,aAAa,CAAC;MAC5BI,IAAI,EAAE,CAAC,CAACZ,UAAU,CAACY,IAAI,GAAG,OAAO,GAAG,YAAY;MAChDC,UAAU,EAAE,KAAI,CAACC,mBAAmB,CAACd,UAAU,CAACa,UAAU;IAC5D,CAAC,EAAE,KAAI,CAACE,gBAAgB,CAAC;IAEzB,OAAO;MACLhC,KAAK,EAAEG,KAAK,CAACD,MAAM,CAAC0B,kBAAkB,CAAC,EAAE,UAAAK,MAAM;QAAA,OAAIA,MAAM,KAAK,OAAO;MAAA,EAAC;MACtEA,MAAM,EAAEL;IACV,CAAC;EACH,CAAC;EAtBC,IAAI,CAACI,gBAAgB,GAAGlB,eAAe;EACvC,IAAI,CAACiB,mBAAmB,GAAGhB,kBAAkB;AAC/C,CAAC;AAAA,SAJkBF,gBAAgB"},"metadata":{},"sourceType":"module"}