{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport CCFieldFormatter from \"./CCFieldFormatter\";\nimport CCFieldValidator from \"./CCFieldValidator\";\nimport compact from \"lodash.compact\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport var InjectedProps = {\n  focused: PropTypes.string,\n  values: PropTypes.object.isRequired,\n  status: PropTypes.object.isRequired,\n  onFocus: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onBecomeEmpty: PropTypes.func.isRequired,\n  onBecomeValid: PropTypes.func.isRequired,\n  requiresName: PropTypes.bool,\n  requiresCVC: PropTypes.bool,\n  requiresPostalCode: PropTypes.bool\n};\nexport default function connectToState(CreditCardInput) {\n  var StateConnection = function (_Component) {\n    _inherits(StateConnection, _Component);\n    var _super = _createSuper(StateConnection);\n    function StateConnection() {\n      var _this;\n      _classCallCheck(this, StateConnection);\n      _this = _super.call(this);\n      _this.componentDidMount = function () {\n        return setTimeout(function () {\n          _this.props.autoFocus && _this.focus(\"number\");\n        });\n      };\n      _this.setValues = function (values) {\n        var newValues = _objectSpread(_objectSpread({}, _this.state.values), values);\n        var displayedFields = _this._displayedFields();\n        var formattedValues = new CCFieldFormatter(displayedFields).formatValues(newValues);\n        var validation = new CCFieldValidator(displayedFields, _this.props.validatePostalCode).validateValues(formattedValues);\n        var newState = _objectSpread({\n          values: formattedValues\n        }, validation);\n        _this.setState(newState);\n        _this.props.onChange(newState);\n      };\n      _this.focus = function () {\n        var field = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"number\";\n        _this.setState({\n          focused: field\n        });\n      };\n      _this._displayedFields = function () {\n        var _this$props = _this.props,\n          requiresName = _this$props.requiresName,\n          requiresCVC = _this$props.requiresCVC,\n          requiresPostalCode = _this$props.requiresPostalCode;\n        return compact([\"number\", \"expiry\", requiresCVC ? \"cvc\" : null, requiresName ? \"name\" : null, requiresPostalCode ? \"postalCode\" : null]);\n      };\n      _this._focusPreviousField = function (field) {\n        var displayedFields = _this._displayedFields();\n        var fieldIndex = displayedFields.indexOf(field);\n        var previousField = displayedFields[fieldIndex - 1];\n        if (previousField) _this.focus(previousField);\n      };\n      _this._focusNextField = function (field) {\n        if (field === \"name\") return;\n\n        var displayedFields = _this._displayedFields();\n        var fieldIndex = displayedFields.indexOf(field);\n        var nextField = displayedFields[fieldIndex + 1];\n        if (nextField) _this.focus(nextField);\n      };\n      _this._change = function (field, value) {\n        _this.setValues(_defineProperty({}, field, value));\n      };\n      _this._onFocus = function (field) {\n        _this.focus(field);\n        _this.props.onFocus(field);\n      };\n      _this.state = {\n        focused: \"\",\n        values: {},\n        status: {}\n      };\n      return _this;\n    }\n    _createClass(StateConnection, [{\n      key: \"render\",\n      value: function render() {\n        return _jsx(CreditCardInput, _objectSpread(_objectSpread(_objectSpread({}, this.props), this.state), {}, {\n          onFocus: this._onFocus,\n          onChange: this._change,\n          onBecomeEmpty: this._focusPreviousField,\n          onBecomeValid: this._focusNextField\n        }));\n      }\n    }]);\n    return StateConnection;\n  }(Component);\n  StateConnection.propTypes = {\n    autoFocus: PropTypes.bool,\n    onChange: PropTypes.func.isRequired,\n    onFocus: PropTypes.func,\n    requiresName: PropTypes.bool,\n    requiresCVC: PropTypes.bool,\n    requiresPostalCode: PropTypes.bool,\n    validatePostalCode: PropTypes.func\n  };\n  StateConnection.defaultProps = {\n    autoFocus: false,\n    onChange: function onChange() {},\n    onFocus: function onFocus() {},\n    requiresName: false,\n    requiresCVC: true,\n    requiresPostalCode: false,\n    validatePostalCode: function validatePostalCode() {\n      var postalCode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n      return postalCode.match(/^\\d{6}$/) ? \"valid\" : postalCode.length > 6 ? \"invalid\" : \"incomplete\";\n    }\n  };\n  return StateConnection;\n}","map":{"version":3,"names":["React","Component","PropTypes","CCFieldFormatter","CCFieldValidator","compact","InjectedProps","focused","string","values","object","isRequired","status","onFocus","func","onChange","onBecomeEmpty","onBecomeValid","requiresName","bool","requiresCVC","requiresPostalCode","connectToState","CreditCardInput","StateConnection","componentDidMount","setTimeout","props","autoFocus","focus","setValues","newValues","state","displayedFields","_displayedFields","formattedValues","formatValues","validation","validatePostalCode","validateValues","newState","setState","field","_focusPreviousField","fieldIndex","indexOf","previousField","_focusNextField","nextField","_change","value","_onFocus","propTypes","defaultProps","postalCode","match","length"],"sources":["/Users/p.marasca/Desktop/Tu-Store/node_modules/react-native-credit-card-input/src/connectToState.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport CCFieldFormatter from \"./CCFieldFormatter\";\nimport CCFieldValidator from \"./CCFieldValidator\";\nimport compact from \"lodash.compact\";\n\nexport const InjectedProps = {\n  focused: PropTypes.string,\n  values: PropTypes.object.isRequired,\n  status: PropTypes.object.isRequired,\n  onFocus: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onBecomeEmpty: PropTypes.func.isRequired,\n  onBecomeValid: PropTypes.func.isRequired,\n  requiresName: PropTypes.bool,\n  requiresCVC: PropTypes.bool,\n  requiresPostalCode: PropTypes.bool,\n};\n\nexport default function connectToState(CreditCardInput) {\n  class StateConnection extends Component {\n    static propTypes = {\n      autoFocus: PropTypes.bool,\n      onChange: PropTypes.func.isRequired,\n      onFocus: PropTypes.func,\n      requiresName: PropTypes.bool,\n      requiresCVC: PropTypes.bool,\n      requiresPostalCode: PropTypes.bool,\n      validatePostalCode: PropTypes.func,\n    };\n\n    static defaultProps = {\n      autoFocus: false,\n      onChange: () => {},\n      onFocus: () => {},\n      requiresName: false,\n      requiresCVC: true,\n      requiresPostalCode: false,\n      validatePostalCode: (postalCode = \"\") => {\n        return postalCode.match(/^\\d{6}$/) ? \"valid\" :\n               postalCode.length > 6 ? \"invalid\" :\n               \"incomplete\";\n      },\n    };\n\n    constructor() {\n      super();\n      this.state = {\n        focused: \"\",\n        values: {},\n        status: {},\n      };\n    }\n\n    componentDidMount = () => setTimeout(() => { // Hacks because componentDidMount happens before component is rendered\n      this.props.autoFocus && this.focus(\"number\");\n    });\n\n    setValues = values => {\n      const newValues = { ...this.state.values, ...values };\n      const displayedFields = this._displayedFields();\n      const formattedValues = (new CCFieldFormatter(displayedFields)).formatValues(newValues);\n      const validation = (new CCFieldValidator(displayedFields, this.props.validatePostalCode)).validateValues(formattedValues);\n      const newState = { values: formattedValues, ...validation };\n\n      this.setState(newState);\n      this.props.onChange(newState);\n    };\n\n    focus = (field = \"number\") => {\n      this.setState({ focused: field });\n    };\n\n    _displayedFields = () => {\n      const { requiresName, requiresCVC, requiresPostalCode } = this.props;\n      return compact([\n        \"number\",\n        \"expiry\",\n        requiresCVC ? \"cvc\" : null,\n        requiresName ? \"name\" : null,\n        requiresPostalCode ? \"postalCode\" : null,\n      ]);\n    };\n\n    _focusPreviousField = field => {\n      const displayedFields = this._displayedFields();\n      const fieldIndex = displayedFields.indexOf(field);\n      const previousField = displayedFields[fieldIndex - 1];\n      if (previousField) this.focus(previousField);\n    };\n\n    _focusNextField = field => {\n      if (field === \"name\") return;\n      // Should not focus to the next field after name (e.g. when requiresName & requiresPostalCode are true\n      // because we can't determine if the user has completed their name or not)\n\n      const displayedFields = this._displayedFields();\n      const fieldIndex = displayedFields.indexOf(field);\n      const nextField = displayedFields[fieldIndex + 1];\n      if (nextField) this.focus(nextField);\n    };\n\n    _change = (field, value) => {\n      this.setValues({ [field]: value });\n    };\n\n    _onFocus = (field) => {\n      this.focus(field);\n      this.props.onFocus(field);\n    };\n\n    render() {\n      return (\n        <CreditCardInput\n          {...this.props}\n          {...this.state}\n          onFocus={this._onFocus}\n          onChange={this._change}\n          onBecomeEmpty={this._focusPreviousField}\n          onBecomeValid={this._focusNextField} />\n      );\n    }\n  }\n\n  return StateConnection;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}